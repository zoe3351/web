<div class="container" style="padding-top:20px">
	<div class="row">
		<div class="col-sm-4">
			<ul class="nav nav-tabs" id="myTab" role="tablist">
				<li class="nav-item">
					<a class="nav-link active btn" id="home-tab" data-toggle="tab" role="tab" aria-controls="home" aria-selected="true" ng-click="showProposalListTab()">Proposals</a>
				</li>
				<li class="nav-item">
					<a class="nav-link btn" id="profile-tab" data-toggle="tab" role="tab" aria-controls="profile" aria-selected="false" ng-click="showNewProposalTab()"
					ng-if="phase==1">New Proposal</a>
				</li>
			</ul>
			<div ng-show="!showNewProposal" ng-if="phase==1" style="overflow-y:scroll; height:550px;width: 19rem;" id="scrollbody">
				<div class="list-group">
					<div class="list-group-item list-group-item-action card-header" ng-repeat="pro in proposals" id="{{'p' + pro.draft_id}}">
						<a class="btn" data-toggle="collapse" data-target="#{{pro.draft_id}}" aria-expanded="false" aria-controls="{{pro.draft_id}}">
							{{pro.proposal_title}}
						</a>
						<div id="{{pro.draft_id}}" class="collapse hide " aria-labelledby="headingOne" data-parent="#accordion">
							<div class="card-body">
								<h5 class="card-subtitle mb-2 text-muted">ID: {{pro.draft_id}}</h5>
								<h5 class="card-text">Idea: {{pro.proposal_idea}}</h5>
								<h5 class="card-text">Location: {{pro.project_location}}</h5>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div ng-show="!showNewProposal" ng-if="phase!=1" style="overflow-y:scroll; height:1000px;width:19rem;" id="scrollbody">
				<div class="list-group">
					<div class="list-group-item list-group-item-action card-header" ng-repeat="pro in proposals" id="{{'p' + pro.draft_id}}">
						<a class="btn" data-toggle="collapse" data-target="#{{pro.proposal_id}}" aria-expanded="false" aria-controls="{{pro.proposal_id}}">
							{{pro.final_proposal_title}}
						</a>
						<div id="{{pro.proposal_id}}" class="collapse hide " aria-labelledby="headingOne" data-parent="#accordion">
							<div class="card-body">
								<h5 class="card-subtitle mb-2 text-muted">ID: {{pro.proposal_id}}</h5>
								<h5 class="card-text">Idea: {{pro.final_proposal_idea}}</h5>
								<h5 class="card-text">Location: {{pro.final_project_location}} </h5>
								<h5 class="card-text">Need: {{pro.proposal_need}} </h5>
								<h5 class="card-text">Neighborhood: {{pro.neihborhood}}</h5>
								<h5 class="card-text">Dist: {{pro.council_district}} </h5>
								<h5 class="card-text">Dept: {{pro.department}} </h5>
								<h5 class="card-text">Benefits: {{pro.who_benefits}} </h5>
								<h5 class="card-text">Cost: {{pro.cost}} </h5>
								<h5 class="card-text">Type: {{pro.project_type}}</h5>
								<button class="btn btn-primary btn-sm" ng-if="phase==3" ng-click="vote(pro.proposal_id)">Vote</button>
								<button class="btn btn-primary btn-sm" ng-if="phase==2" ng-click="grade(pro.proposal_id)">Grade</button>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div ng-show="showNewProposal">
				<form name="newProposalForm" ng-submit="submitForm(newProposalForm.$valid)" novalidate>
					<div class="form-group" ng-class="{ 'has-error' :newProposalForm.title.$invalid && !newProposalForm.title.$pristine}">
						<label for="title">Title*</label>
						<input ng-model="newProposal.title" type="text" name="title" class="form-control" id="title" placeholder="Title" ng-minlength="1"
						required>
						<p ng-show="newProposalForm.title.$invalid && !newProposalForm.title.$pristine" class="help-block">Title is required.</p>
					</div>
					
					<div class="form-group" ng-class="{ 'has-error' :newProposalForm.location.$invalid && !newProposalForm.location.$pristine}">
						<label for="location">Location*</label>
						<input ng-model="newProposal.location" type="text" name="location" class="form-control" id="title" placeholder="location"
						ng-minlength="1" required>
						<p ng-show="newProposalForm.location.$invalid && !newProposalForm.location.$pristine" class="help-block">Location is required.</p>
					</div>
					
					<div class="row">
						<div class="col">
							<label for="latitude">Latitude*</label>
							<input type="text" ng-model="newProposal.latitude" class="form-control" name="latitude" placeholder="">
						</div>
						<div class="col">
							<label for="latitude">Longitude*</label>
							<input type="text" ng-model="newProposal.longitude" class="form-control" name="longitude" placeholder="">
						</div>
					</div>
					
					<div class="form-group" ng-class="{ 'has-error' :newProposalForm.idea.$invalid && !newProposalForm.idea.$pristine}">
						<label for="idea">Idea</label>
						<textarea style="height:200px;" ng-model="newProposal.idea" name="idea" placeholder="a few sentences describing what the project involves"
						class="form-control" id="idea" ng-minlength="1" required></textarea>
						<p ng-show="newProposalForm.idea.$invalid && !newProposalForm.idea.$pristine" class="help-block">Idea is required.</p>
					</div>
					<button type="submit" class="btn btn-danger" ng-disabled="!newProposalForm.$valid">Submit</button>
				</form>
			</div>
		</div>
		<div id="map" class="col-sm-8">
			<div id="proposalMap" style="width:600px; height:600px"></div>
		</div>
		
		<div>Icons made by <a href="https://www.flaticon.com/authors/smashicons" title="Smashicons">Smashicons</a> from <a href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a> is licensed by <a href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons BY 3.0" target="_blank">CC 3.0 BY</a></div>
	</div>
	<script>
		initMap();
	</script>
</div>